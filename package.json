{
  "name": "pet",
  "private": true,
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "build:ts": "esbuild src/ts/*.ts --bundle --minify --outdir=public/js --format=esm",

    "build:css": "cpx \"src/css/**/*\" public/css",

    "minify:css": "postcss \"public/css/*.css\" --use cssnano --dir public/css --no-map",

    "build:html": "cpx \"src/html/**/*\" public",

    "minify:html": "html-minifier-terser --collapse-whitespace --remove-comments --minify-css true --minify-js true --input-dir public --output-dir public --file-ext html",

    "build:assets": "cpx \"src/assets/**/*\" public/assets",

    "minify:images": "node -e \"import fs from 'fs'; import path from 'path'; import sharp from 'sharp'; const exts=['.jpg','.jpeg','.png']; const compressDir=async dir=>{for(const f of fs.readdirSync(dir,{withFileTypes:true})){const full=path.join(dir,f.name); if(f.isDirectory()){await compressDir(full);} else if(exts.includes(path.extname(f.name).toLowerCase())){const buf=fs.readFileSync(full); const ext=path.extname(f.name).toLowerCase(); const out=(ext==='.jpg'||ext==='.jpeg') ? await sharp(buf).jpeg({quality:75}).toBuffer() : await sharp(buf).png({quality:80,compressionLevel:9}).toBuffer(); fs.writeFileSync(full,out); console.log('Optimized:', full);}}}; compressDir('public/assets');\"",

    "build": "npm run build:ts && npm run build:css && npm run minify:css && npm run build:html && npm run minify:html && npm run build:assets && npm run minify:images"
  },
  "devDependencies": {
    "cpx": "^1.5.0",
    "cssnano": "^7.1.2",
    "csso": "^5.0.5",
    "esbuild": "^0.27.2",
    "html-minifier-terser": "^7.2.0",
    "postcss": "^8.5.6",
    "postcss-cli": "^11.0.1",
    "sharp": "^0.34.5"
  }
}
